<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BitaxGotchi - Your Mining Companion</title>
    <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #000000;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            background: rgba(255, 0, 0, 0.1);
            border-radius: 50%;
            animation: float-particle 20s infinite;
        }

        @keyframes float-particle {
            0%, 100% { transform: translate(0, 0); opacity: 0; }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% { transform: translate(100px, -100vh); opacity: 0; }
        }

        /* Plasma border effect */
        @keyframes plasma {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 4em;
            font-weight: 900;
            background: linear-gradient(45deg, #ff0000, #ff6600, #ff0000);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: plasma 3s ease infinite;
            text-transform: uppercase;
            letter-spacing: 5px;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(255, 0, 0, 0.5);
        }

        .tagline {
            font-size: 1.3em;
            color: #ff3333;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .main-card {
            background: rgba(10, 10, 10, 0.9);
            border: 2px solid #000;
            border-radius: 20px;
            padding: 0;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        /* Plasma border animation */
        .main-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff0000, #ff3300, #ff6600, #ff0000, #cc0000);
            background-size: 400% 400%;
            border-radius: 20px;
            z-index: -1;
            animation: plasma 4s ease infinite;
        }

        .card-content {
            padding: 40px;
        }

        .creature-display {
            text-align: center;
            padding: 50px;
            background: linear-gradient(180deg, rgba(20, 0, 0, 0.8) 0%, rgba(10, 0, 0, 0.9) 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 0, 0, 0.3);
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .creature-display::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Bitcoin Character Container */
        .creature-container {
            position: relative;
            width: 200px;
            height: 200px;
            z-index: 1;
        }

        /* Bitcoin Character */
        .bitcoin-character {
            position: relative;
            width: 100%;
            height: 100%;
            transition: all 0.3s ease;
        }

        /* Bitcoin coin body */
        .bitcoin-body {
            position: absolute;
            width: 180px;
            height: 180px;
            background: linear-gradient(135deg, #f7931a 0%, #ff9500 50%, #f7931a 100%);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow:
                0 0 30px rgba(247, 147, 26, 0.6),
                inset -10px -10px 20px rgba(0, 0, 0, 0.3),
                inset 10px 10px 20px rgba(255, 255, 255, 0.3);
            border: 4px solid #ff9500;
        }

        /* Bitcoin symbol */
        .bitcoin-symbol {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 80px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-family: Arial, sans-serif;
        }

        /* Eyes */
        .eyes {
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 40px;
            z-index: 10;
        }

        .eye {
            width: 28px;
            height: 28px;
            background: white;
            border-radius: 50%;
            position: relative;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .pupil {
            width: 14px;
            height: 14px;
            background: #000;
            border-radius: 50%;
            position: absolute;
            top: 7px;
            left: 7px;
            transition: all 0.3s ease;
        }

        /* Mouth */
        .mouth {
            position: absolute;
            bottom: 35%;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 30px;
            border: 4px solid #fff;
            border-top: none;
            border-radius: 0 0 60px 60px;
            z-index: 10;
            transition: all 0.3s ease;
        }

        /* Arms */
        .arms {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .arm {
            position: absolute;
            width: 50px;
            height: 15px;
            background: linear-gradient(135deg, #f7931a, #ff9500);
            border-radius: 20px;
            top: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .arm-left {
            left: -15px;
            transform: rotate(-20deg);
            transform-origin: right center;
        }

        .arm-right {
            right: -15px;
            transform: rotate(20deg);
            transform-origin: left center;
        }

        /* Legs */
        .legs {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 30px;
            z-index: 1;
        }

        .leg {
            width: 20px;
            height: 35px;
            background: linear-gradient(180deg, #f7931a, #ff9500);
            border-radius: 0 0 10px 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        /* Animation States */

        /* Idle State */
        .state-idle .bitcoin-character {
            animation: idle-float 3s ease-in-out infinite;
        }

        @keyframes idle-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .state-idle .arm-left {
            animation: idle-arm-left 2s ease-in-out infinite;
        }

        .state-idle .arm-right {
            animation: idle-arm-right 2s ease-in-out infinite;
        }

        @keyframes idle-arm-left {
            0%, 100% { transform: rotate(-20deg); }
            50% { transform: rotate(-30deg); }
        }

        @keyframes idle-arm-right {
            0%, 100% { transform: rotate(20deg); }
            50% { transform: rotate(30deg); }
        }

        /* Mining State */
        .state-mining .bitcoin-character {
            animation: mining-shake 0.5s ease-in-out infinite;
        }

        @keyframes mining-shake {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(-3px) rotate(-2deg); }
            75% { transform: translateX(3px) rotate(2deg); }
        }

        .state-mining .arm-left {
            animation: mining-arm-left 0.6s ease-in-out infinite;
        }

        .state-mining .arm-right {
            animation: mining-arm-right 0.6s ease-in-out infinite;
        }

        @keyframes mining-arm-left {
            0%, 100% { transform: rotate(-45deg); }
            50% { transform: rotate(-15deg); }
        }

        @keyframes mining-arm-right {
            0%, 100% { transform: rotate(45deg); }
            50% { transform: rotate(15deg); }
        }

        .state-mining .bitcoin-body {
            box-shadow:
                0 0 50px rgba(247, 147, 26, 0.9),
                inset -10px -10px 20px rgba(0, 0, 0, 0.3),
                inset 10px 10px 20px rgba(255, 255, 255, 0.3);
        }

        /* Happy State */
        .state-happy .bitcoin-character {
            animation: happy-bounce 0.6s ease-in-out infinite;
        }

        @keyframes happy-bounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
        }

        .state-happy .mouth {
            width: 70px;
            height: 35px;
            border-radius: 0 0 70px 70px;
        }

        .state-happy .arm-left {
            animation: happy-arm-wave 0.5s ease-in-out infinite;
        }

        .state-happy .arm-right {
            animation: happy-arm-wave 0.5s ease-in-out infinite;
            animation-delay: 0.25s;
        }

        @keyframes happy-arm-wave {
            0%, 100% { transform: rotate(0deg) translateY(0); }
            50% { transform: rotate(-45deg) translateY(-10px); }
        }

        /* Excited State */
        .state-excited .bitcoin-character {
            animation: excited-jump 0.8s ease-in-out infinite;
        }

        @keyframes excited-jump {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            25% { transform: translateY(-30px) rotate(-10deg) scale(1.1); }
            50% { transform: translateY(-40px) rotate(0deg) scale(1.15); }
            75% { transform: translateY(-30px) rotate(10deg) scale(1.1); }
        }

        .state-excited .bitcoin-body {
            animation: excited-glow 0.4s ease-in-out infinite;
        }

        @keyframes excited-glow {
            0%, 100% {
                box-shadow:
                    0 0 40px rgba(247, 147, 26, 0.8),
                    inset -10px -10px 20px rgba(0, 0, 0, 0.3),
                    inset 10px 10px 20px rgba(255, 255, 255, 0.3);
            }
            50% {
                box-shadow:
                    0 0 80px rgba(247, 147, 26, 1),
                    0 0 120px rgba(255, 149, 0, 0.6),
                    inset -10px -10px 20px rgba(0, 0, 0, 0.3),
                    inset 10px 10px 20px rgba(255, 255, 255, 0.3);
            }
        }

        .state-excited .eyes {
            animation: eyes-sparkle 0.3s ease-in-out infinite;
        }

        @keyframes eyes-sparkle {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.2); }
        }

        /* Tired State */
        .state-tired .bitcoin-character {
            animation: tired-sway 4s ease-in-out infinite;
        }

        @keyframes tired-sway {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        .state-tired .eye {
            height: 8px;
            border-radius: 0;
        }

        .state-tired .pupil {
            display: none;
        }

        .state-tired .mouth {
            width: 40px;
            height: 15px;
            border-radius: 0 0 40px 40px;
        }

        .state-tired .arm-left,
        .state-tired .arm-right {
            animation: tired-arm-drop 3s ease-in-out infinite;
        }

        @keyframes tired-arm-drop {
            0%, 100% { transform: rotate(45deg); }
            50% { transform: rotate(60deg); }
        }

        /* Sleeping State */
        .state-sleeping .bitcoin-character {
            animation: sleeping-breathe 3s ease-in-out infinite;
        }

        @keyframes sleeping-breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(0.98); }
        }

        .state-sleeping .eye {
            height: 4px;
            border-radius: 0;
        }

        .state-sleeping .pupil {
            display: none;
        }

        .state-sleeping .mouth {
            width: 30px;
            height: 10px;
            border-radius: 15px;
            border: 3px solid #fff;
        }

        /* Energy particles for mining */
        .energy-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .energy-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #f7931a;
            border-radius: 50%;
            opacity: 0;
            box-shadow: 0 0 10px #f7931a;
        }

        .state-mining .energy-particle,
        .state-excited .energy-particle {
            animation: particle-float 2s ease-out infinite;
        }

        @keyframes particle-float {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1);
                opacity: 0;
            }
        }

        .creature {
            display: none; /* Hide the old emoji */
        }

        .creature-name {
            font-family: 'Orbitron', monospace;
            font-size: 2.5em;
            color: #ff0000;
            margin-top: 20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .info-card {
            background: rgba(20, 0, 0, 0.6);
            border: 1px solid rgba(255, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            border-color: #ff0000;
            box-shadow: 0 5px 25px rgba(255, 0, 0, 0.4);
        }

        .info-icon {
            font-size: 3em;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.5));
        }

        .info-card h3 {
            color: #ff3333;
            font-size: 1.3em;
            margin-bottom: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-card p {
            color: #cccccc;
            font-size: 1em;
            line-height: 1.6;
        }

        .flash-section {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, rgba(255, 0, 0, 0.2), rgba(150, 0, 0, 0.3));
            border-radius: 15px;
            margin: 30px 0;
            border: 2px solid rgba(255, 0, 0, 0.5);
            position: relative;
        }

        .flash-section h2 {
            font-family: 'Orbitron', monospace;
            color: #ff0000;
            margin-bottom: 15px;
            font-size: 2em;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .flash-section p {
            color: #ffcccc;
            font-size: 1.1em;
            margin-bottom: 25px;
        }

        esp-web-install-button {
            display: inline-block;
        }

        esp-web-install-button button {
            background: linear-gradient(45deg, #ff0000, #cc0000);
            color: white;
            border: 2px solid #ff0000;
            padding: 18px 50px;
            font-size: 1.3em;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.5);
        }

        esp-web-install-button button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.8);
            background: linear-gradient(45deg, #ff3333, #ff0000);
        }

        .installation-steps {
            background: rgba(20, 0, 0, 0.5);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            border: 1px solid rgba(255, 0, 0, 0.3);
        }

        .installation-steps h3 {
            font-family: 'Orbitron', monospace;
            color: #ff3333;
            margin-bottom: 25px;
            font-size: 1.5em;
            text-transform: uppercase;
        }

        .step-item {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(10, 0, 0, 0.6);
            border-radius: 10px;
            border-left: 4px solid #ff0000;
            transition: all 0.3s ease;
        }

        .step-item:hover {
            background: rgba(20, 0, 0, 0.8);
            border-left-width: 6px;
        }

        .step-number {
            background: linear-gradient(45deg, #ff0000, #cc0000);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3em;
            margin-right: 20px;
            flex-shrink: 0;
            font-family: 'Orbitron', monospace;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.6);
        }

        .step-text {
            color: #ffffff;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .alert-box {
            background: rgba(255, 100, 0, 0.1);
            border: 2px solid rgba(255, 100, 0, 0.5);
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            color: #ffcccc;
        }

        .alert-box strong {
            color: #ff6600;
            font-size: 1.1em;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: rgba(10, 0, 0, 0.8);
            border-radius: 15px;
            border: 1px solid rgba(255, 0, 0, 0.3);
        }

        .footer-text {
            color: #999;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .credit {
            font-family: 'Orbitron', monospace;
            color: #ff3333;
            font-size: 1.1em;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .credit span {
            color: #ff6666;
        }

        @media (max-width: 768px) {
            .logo {
                font-size: 2.5em;
                letter-spacing: 2px;
            }
            .creature {
                font-size: 100px;
            }
            .card-content {
                padding: 25px;
            }
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-particles" id="particles"></div>

    <div class="container">
        <div class="header">
            <div class="logo">BitaxGotchi</div>
            <div class="tagline">Your Mining Companion Evolves</div>
        </div>

        <div class="main-card">
            <div class="card-content">
                <div class="creature-display state-idle" id="creatureDisplay">
                    <div class="creature-container">
                        <div class="bitcoin-character">
                            <!-- Bitcoin Body -->
                            <div class="bitcoin-body">
                                <div class="bitcoin-symbol">‚Çø</div>
                            </div>

                            <!-- Eyes -->
                            <div class="eyes">
                                <div class="eye">
                                    <div class="pupil"></div>
                                </div>
                                <div class="eye">
                                    <div class="pupil"></div>
                                </div>
                            </div>

                            <!-- Mouth -->
                            <div class="mouth"></div>

                            <!-- Arms -->
                            <div class="arms">
                                <div class="arm arm-left"></div>
                                <div class="arm arm-right"></div>
                            </div>

                            <!-- Legs -->
                            <div class="legs">
                                <div class="leg"></div>
                                <div class="leg"></div>
                            </div>

                            <!-- Energy Particles -->
                            <div class="energy-particles" id="energyParticles"></div>
                        </div>
                    </div>
                    <div class="creature-name" id="creatureName">BitCoin-Chan</div>
                    <div class="creature" style="display: none;">ü¶ñ</div>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-icon">‚ö°</div>
                        <h3>Real-Time Evolution</h3>
                        <p>Your companion grows stronger with every share submitted by your Bitaxe</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon">üîó</div>
                        <h3>Bitaxe API</h3>
                        <p>Direct integration with your miner's API for live stats and monitoring</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon">üìä</div>
                        <h3>Live Statistics</h3>
                        <p>Track hashrate, shares, and watch your companion's evolution in real-time</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon">üèÜ</div>
                        <h3>Achievements</h3>
                        <p>Unlock special forms and abilities as you mine more Bitcoin</p>
                    </div>
                </div>

                <div class="flash-section">
                    <h2>‚öô Flash Your Lilygo Tdisplay S3</h2>
                    <p>Install BitaxGotchi firmware and bring your companion to life</p>
                    <esp-web-install-button manifest="./manifest.json">
                        <button slot="activate">‚ö° CONNECT & FLASH</button>
                    </esp-web-install-button>
                </div>

                <div class="installation-steps">
                    <h3>Installation Steps</h3>
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-text">Connect your Lilygo Tdisplay S3 to your computer via USB cable</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-text">Click the "CONNECT & FLASH" button above</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-text">Select the COM port of your lilygo Tdisplay S3 from the popup</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-text">Click "INSTALL" and wait for the flashing process to complete</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">5</div>
                        <div class="step-text">Your BitaxGotchi awakens! Configure WiFi ( BitaxeGotchi_setup ) and pool settings</div>
                    </div>
                </div>

                <div class="alert-box">
                    <strong>‚ö† Browser Compatibility:</strong> Make sure you're using Chrome, Edge, or Opera. Firefox and Safari don't support Web Serial API for USB flashing.
                </div>
            </div>
        </div>

        <div class="footer">
            <div class="footer-text">Powering the future of Bitcoin mining</div>
            <div class="credit">Created by <span>Silexperience</span> for Plebs Miners</div>
        </div>
    </div>

    <script>
        // Create floating particles
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 20; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.width = (Math.random() * 3 + 1) + 'px';
            particle.style.height = particle.style.width;
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
            particlesContainer.appendChild(particle);
        }

        // Bitcoin Character State Manager
        class BitcoinCharacter {
            constructor() {
                this.display = document.getElementById('creatureDisplay');
                this.nameElement = document.getElementById('creatureName');
                this.energyParticles = document.getElementById('energyParticles');
                this.currentState = 'idle';
                this.states = ['idle', 'mining', 'happy', 'excited', 'tired', 'sleeping'];
                this.stateNames = {
                    'idle': 'BitCoin-Chan üí§',
                    'mining': 'MINING! ‚ö°',
                    'happy': 'Happy BitCoin! üòä',
                    'excited': 'SUPER EXCITED! üéâ',
                    'tired': 'Tired... üò¥',
                    'sleeping': 'Sleeping... üí§'
                };

                this.initEnergyParticles();
                this.startStateRotation();
            }

            initEnergyParticles() {
                // Create energy particles
                for (let i = 0; i < 8; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'energy-particle';

                    // Random direction
                    const angle = (Math.PI * 2 * i) / 8;
                    const distance = 100;
                    const tx = Math.cos(angle) * distance;
                    const ty = Math.sin(angle) * distance;

                    particle.style.setProperty('--tx', tx + 'px');
                    particle.style.setProperty('--ty', ty + 'px');
                    particle.style.animationDelay = (i * 0.25) + 's';

                    this.energyParticles.appendChild(particle);
                }
            }

            setState(state) {
                if (this.states.includes(state)) {
                    // Remove all state classes
                    this.states.forEach(s => {
                        this.display.classList.remove(`state-${s}`);
                    });

                    // Add new state class
                    this.display.classList.add(`state-${state}`);
                    this.currentState = state;

                    // Update name
                    this.nameElement.textContent = this.stateNames[state];

                    console.log(`BitCoin-Chan state: ${state}`);
                }
            }

            startStateRotation() {
                // Demo mode: rotate through states
                let stateIndex = 0;

                // Change state every 4 seconds for demo
                setInterval(() => {
                    stateIndex = (stateIndex + 1) % this.states.length;
                    this.setState(this.states[stateIndex]);
                }, 4000);
            }

            // Method to set state based on mining activity (for future integration)
            updateFromMiningStats(hashrate, shares, temperature) {
                if (hashrate === 0) {
                    this.setState('sleeping');
                } else if (hashrate < 100) {
                    this.setState('tired');
                } else if (hashrate > 500) {
                    this.setState('excited');
                } else if (shares % 10 === 0 && shares > 0) {
                    this.setState('happy');
                } else {
                    this.setState('mining');
                }
            }
        }

        // Initialize Bitcoin Character
        const bitcoinChar = new BitcoinCharacter();

        // Example: You can call bitcoinChar.setState('mining') to manually set state
        // Or bitcoinChar.updateFromMiningStats(hashrate, shares, temp) with real data

        // Eye tracking (follows cursor)
        document.addEventListener('mousemove', (e) => {
            const eyes = document.querySelectorAll('.pupil');
            const rect = document.querySelector('.bitcoin-character').getBoundingClientRect();
            const eyeCenterX = rect.left + rect.width / 2;
            const eyeCenterY = rect.top + rect.height / 2;

            eyes.forEach(pupil => {
                const angle = Math.atan2(e.clientY - eyeCenterY, e.clientX - eyeCenterX);
                const distance = Math.min(7, Math.hypot(e.clientX - eyeCenterX, e.clientY - eyeCenterY) / 50);

                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;

                pupil.style.transform = `translate(${x}px, ${y}px)`;
            });
        });

        // Click interaction
        document.querySelector('.creature-container').addEventListener('click', () => {
            // Temporarily show excited state on click
            const previousState = bitcoinChar.currentState;
            bitcoinChar.setState('excited');

            setTimeout(() => {
                // Return to previous state after 2 seconds
                if (bitcoinChar.currentState === 'excited') {
                    bitcoinChar.setState(previousState);
                }
            }, 2000);
        });
    </script>
</body>
</html>
